# 趣味人格测试微信小程序

一个面向年轻用户群体的趣味人格测试微信小程序，提供多种主题的互动人格测试体验。

## 🎯 项目特色

- **精美UI设计** - 现代化渐变背景，丰富的动画效果
- **流畅交互** - 独特的答题交互方式，点击图片显示选项
- **数据可视化** - 雷达图展示多维度性格分析
- **完整流程** - 从登录到结果展示的完整用户体验
- **分享功能** - 支持微信好友和朋友圈分享
- **响应式设计** - 适配各种手机屏幕尺寸

## 📱 功能模块

### 1. 授权登录页
- 微信授权登录
- 快速体验模式
- 精美的粒子动画背景
- 支持分享链接直接跳转

### 2. 主题列表页（首页）
- 瀑布流展示测试主题
- 卡片式设计，支持下拉刷新
- 按ID倒序排列
- 丰富的加载和空状态处理

### 3. 答题页
- 独特的交互设计：点击图片显示答案选项
- 实时进度条显示
- 流畅的页面切换动画
- 答题进度本地保存
- 防误退出机制

### 4. 生成结果页
- 神秘的角色生成动画
- 魔法球和粒子效果
- 分步骤进度提示
- 仪式感十足的等待体验

### 5. 角色结果页
- 角色信息完整展示
- 雷达图可视化性格维度
- 支持图片预览和保存
- 多种分享方式
- 座右铭一键复制

## 🛠 技术架构

### 核心技术栈
- **微信小程序原生框架**
- **Canvas 2D API** - 用于图表绘制
- **微信授权登录**
- **微信分享功能**

### 项目结构
```
miniprogram/
├── pages/              # 页面文件
│   ├── login/         # 登录页
│   ├── home/          # 主题列表页
│   ├── question/      # 答题页
│   ├── generating/    # 生成结果页
│   └── result/        # 角色结果页
├── components/        # 公共组件
│   ├── loading/       # 加载组件
│   ├── progress-bar/  # 进度条组件
│   └── chart/         # 图表组件
├── utils/             # 工具函数
│   ├── api.js         # API接口封装
│   ├── request.js     # 网络请求封装
│   ├── storage.js     # 本地存储封装
│   └── util.js        # 通用工具函数
├── app.js             # 小程序入口
├── app.json           # 全局配置
└── app.wxss           # 全局样式
```

## 🔌 API接口

### 基础配置
- **Base URL**: `http://127.0.0.1:8080`
- **请求格式**: JSON
- **响应格式**: JSON

### 接口列表

#### 1. 用户登录
```
POST /user/login
Body: { "name": "微信昵称" }
Response: { "id": 5, "name": "weixingname" }
```

#### 2. 获取测试主题列表
```
GET /testQuestions/titles
Response: [
  {
    "id": 1,
    "name": "猎魔人人格测试:你是哪种猎魔人?",
    "images": "http://127.0.0.1:8080/images/1"
  }
]
```

#### 3. 获取题目列表
```
GET /testQuestions/problem/{titleId}
Response: [
  {
    "id": 1,
    "q": "问题描述",
    "image": "http://127.0.0.1:8080/images/q1",
    "answerVOMap": {
      "A": {"id": 1, "a": "选项A文本"},
      "B": {"id": 2, "a": "选项B文本"},
      "C": {"id": 3, "a": "选项C文本"},
      "D": {"id": 4, "a": "选项D文本"}
    }
  }
]
```

#### 4. 提交答案
```
POST /testQuestions/submitAnswer
Body: {
  "titleId": 1,
  "userId": 1,
  "qid": 1,
  "aid": 1
}
```

#### 5. 获取角色结果
```
POST /testQuestions/getRole
Body: { "titleId": 1, "userId": 3 }
Response: {
  "role": "冰霜裁决者",
  "image": "http://127.0.0.1:8080/images/r1",
  "description": "角色详细描述...",
  "sentence": "角色座右铭",
  "matrix": "{\"勇敢\":9,\"狡诈\":2,\"同情\":3}"
}
```

## 🎨 UI设计特色

### 视觉风格
- **渐变背景**: 使用紫蓝色渐变营造神秘氛围
- **毛玻璃效果**: backdrop-filter 实现现代化视觉
- **圆角设计**: 统一的24rpx圆角规范
- **阴影层次**: 多层次阴影增强立体感

### 动画效果
- **页面切换**: 流畅的滑动和淡入动画
- **按钮反馈**: 缩放和波纹效果
- **加载动画**: 多种风格的loading效果
- **粒子系统**: 背景装饰粒子动画

### 响应式适配
- **rpx单位**: 自适应不同屏幕尺寸
- **安全区域**: 适配刘海屏和底部横条
- **媒体查询**: 针对小屏设备的特殊优化

## 📊 数据可视化

### 雷达图组件
- **Canvas 2D绘制**: 高性能图表渲染
- **动态数据**: 支持实时数据更新
- **自适应缩放**: 根据数据范围自动调整
- **美观样式**: 渐变填充和阴影效果

### 进度条组件
- **平滑动画**: 贝塞尔曲线过渡
- **闪光效果**: shimmer动画增强视觉
- **自定义样式**: 支持颜色和高度定制

## 🔧 开发指南

### 环境要求
- 微信开发者工具
- Node.js (可选，用于包管理)

### 快速开始
1. 下载微信开发者工具
2. 导入项目文件夹
3. 配置AppID（在project.config.json中）
4. 启动后端API服务
5. 开始开发调试

### 配置说明
- 修改`app.js`中的`baseUrl`为实际API地址
- 在`project.config.json`中配置正确的AppID
- 根据需要调整页面路径和组件引用

## 🚀 部署上线

### 小程序发布流程
1. 完成开发和测试
2. 在微信开发者工具中点击"上传"
3. 登录微信公众平台
4. 提交审核
5. 审核通过后发布

### 注意事项
- 确保所有API接口使用HTTPS
- 配置合法域名白名单
- 准备小程序图标和截图
- 完善小程序信息和分类

## 📝 更新日志

### v1.0.0 (2024-10-28)
- ✨ 完整的人格测试流程
- 🎨 精美的UI设计和动画
- 📊 雷达图数据可视化
- 📱 完整的分享功能
- 🔧 完善的错误处理
- 📱 响应式适配

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

MIT License

---

**开发者**: OpenHands AI Assistant  
**联系方式**: openhands@all-hands.dev  
**项目地址**: https://github.com/your-repo/personality-test-miniprogram